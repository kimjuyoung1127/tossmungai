
---

## 🐶 멍멍AI: 최종 프론트엔드 개발 플랜 (v3.0 - 12주)

### Phase 0: 환경 구축 (Week 1)

* **목표:** Granite 프론트엔드 개발 환경 설정 및 Supabase 백엔드 기본 연동 확인.
* **상태:** **[✅ 완료]**
* **주요 내용:** Granite 프로젝트 생성, 의존성 설치, Supabase 클라이언트 설정, 샌드박스 앱 실행 및 기본 렌더링 확인. 에러 추적 도구(Sentry 등) 초기 통합.

---

### Phase 1: 인증 & 최소 온보딩 (Week 2) ⭐

* **목표:** 토스 로그인 연동, Supabase 보안 인증 구현, **최소화된 2단계 온보딩** (반려견 기본 정보 입력) 완성, 메인 **플로팅 탭 바** UI 골격 구현.
* **주요 구현:**
    * **토스 로그인:** `appLogin()` 호출 -> Edge Function 호출 -> Supabase 세션 받아 로컬 저장.
    * **최소 온보딩 UI:** 2단계 (환영 -> 반려견 이름/사진/품종 입력) 구현. `dog_profiles` 테이블 저장 (NULL 허용 필드 활용). **초기 훈련 목표(`initial_training_goals`)는 이 단계에서 제외**하고 나중에 유도.
    * **메인 레이아웃:** 토스 가이드라인 준수 **플로팅 탭 바** UI (홈/훈련사/내활동/설정 - 4개 탭 추천, '훈련하기'는 MVP 이후 고려) 및 기본 페이지 라우팅 설정.

---

### Phase 2: 훈련사 검색 & 프로필 (Week 3) ⭐

* **목표:** '훈련사 찾기' 탭 핵심 기능 구현. 위치 기반 검색, 필터링 UI, **신뢰도 강화된 훈련사 프로필 상세 정보** 조회 기능 완성.
* **주요 구현:**
    * **위치 권한 요청** 및 처리 플로우 구현.
    * **지도/목록 뷰 UI:** Kakao Maps WebView 연동, 지도/목록 토글 UI 구현.
    * **훈련사 데이터 Fetching/Filtering:** Supabase RPC(PostGIS) 연동, 거리/전문분야/평점 등 필터 UI(바텀 시트) 및 로직 구현.
    * **훈련사 프로필 상세 UI:** 탭 네비게이션 구조 권장. 기본 정보(`trainers`), 전문 분야(`specializations`), 자격증(`certifications`), **수상 내역(`trainer_awards`)** ✨, 리뷰 요약(`reviews`), 예약 가능 시간(UI) 표시. **신뢰 Badge** UI 구현 (`is_verified` 등 활용).

---

### Phase 3: 예약 & 결제 (Week 4) ⭐

* **목표:** 훈련사 프로필에서 예약 신청 및 토스페이 결제 완료 흐름 구현. **결제 실패 처리** 로직 포함.
* **주요 구현:**
    * **통합 예약 신청 UI:** 단일 스크롤 페이지 UI 개발 (날짜/시간, 반려견 선택, 목표/장소/메모 입력 - `bookings` 연동).
    * **토스페이 연동:** [결제하기] 버튼 -> Edge Function (`/make-payment`) -> `checkoutPayment()` SDK -> Edge Function (`/execute-payment`) 호출 및 결과 처리 로직 구현.
    * **결제 완료/실패 화면 UI:** 예약 정보 요약 및 추가 액션 버튼(완료 시), 재시도/취소 버튼(실패 시) 구현. 실패 시 예약 정보 임시 저장/복구 로직 (`bookings.status = 'payment_pending'`) 구현.

---

### Phase 4: 내 활동 (예약/리뷰 관리) (Week 5)

* **목표:** '내 활동' 탭 기능 구현. 예약 내역 관리 (상태별), 리뷰 작성/조회 (**훈련사 답글 포함**), **공유된 훈련 내용 확인** 기능 구현. (메시징은 MVP 제외)
* **주요 구현:**
    * **내 예약 목록/상세 UI:** `bookings` 데이터 기반 상태별(예정/완료/취소) 목록 및 상세 정보 표시, 상태별 액션 버튼(취소, 리뷰 작성 등) 구현.
    * **리뷰 작성/조회 UI:** 완료된 예약 기반 리뷰 작성 폼(`reviews`) 구현. 리뷰 목록 조회 시 **훈련사 답글(`reviews.trainer_reply`)** 표시 UI 구현 ✨.
    * **훈련 내용 확인 UI:** ✨ 예약 상세 화면에서 공유된 훈련 기록(`training_session_logs.user_visible_summary` 등) 표시.
    * **Empty State UI:** 예약, 리뷰 목록이 비어있을 경우 안내 문구 및 CTA 버튼 구현.

---

### Phase 5: 설정 (프로필 관리) (Week 6)

* **목표:** '설정' 탭 기능 구현. 사용자/반려견 프로필 관리, 훈련사 찾기 선호도 설정, (훈련사) 전문가 프로필 관리 기본 기능 구현.
* **주요 구현:**
    * **사용자 설정 UI:** 닉네임/사진(`users`), 반려견 관리(`dog_profiles` CRUD), 훈련사 찾기 선호도(`user_preferences`) 설정 UI 개발.
    * **훈련사 설정 UI (훈련사 계정):** 프로필(`trainers`, `specializations`), 활동 시간(`availability`, `exceptions`), 서비스 지역(`service_areas`), 자격증(`certifications`), **수상 내역(`awards`)** ✨ 관리 UI 기본 골격 개발. (Optional) **훈련 로그(`training_session_logs`)** 입력 UI 개발 ✨.

---

### Phase 6: (Optional MVP) 훈련 콘텐츠 (Week 7)

* **목표:** '훈련하기' 탭 기본 기능 구현 (MVP 범위에 따라 선택적 진행). 루틴 목록/상세 보기, (Optional) **루틴 리뷰** 기능 구현.
* **주요 구현:**
    * **훈련 루틴 목록/상세 UI:** `training_routines` 데이터 기반 목록 및 상세 정보(단계별 가이드 포함) 표시 UI 구현.
    * **(Optional) 훈련 루틴 리뷰 UI:** ✨ 루틴 상세 화면 내 별점/댓글 입력(`routine_reviews`) 및 목록 표시 UI 개발.
    * **(Optional) 사용자 훈련 기록 UI:** `training_logs` 테이블 연동 기록 폼 및 목록 UI 개발.

---

### Phase 7: 통합 테스트 및 품질 보증 (Weeks 8-9) ⭐

* **목표:** 전체 기능 통합 테스트, 자동화 테스트 구축 및 실행, 성능/보안 검증, 토스 가이드라인 최종 준수 검증.
* **주요 구현:**
    * **테스트 환경 구축:** Jest, @testing-library/react-native, Mock 서버 설정.
    * **Unit/Integration Test:** 주요 컴포넌트 및 핵심 플로우(온보딩, 예약/결제, 리뷰) 테스트 코드 작성 및 실행 (커버리지 목표 설정).
    * **E2E Test:** Detox 설정 및 주요 시나리오(Critical Path) 자동화 테스트 구현. 실제 디바이스 테스트 병행.
    * **성능/보안/가이드라인 검증:** 로딩 속도(Flipper), 메모리 누수, `.ait` 번들 크기(100MB), 토큰 보안, 다크패턴/UX 라이팅 최종 검토.
    * **CI/CD 파이프라인 구축:** GitHub Actions 등 활용하여 테스트 자동화.

---

### Phase 8: 베타 테스팅 (Weeks 10-11) ⭐

* **목표:** 제한된 사용자 그룹(반려견 보호자, 훈련사) 대상 실제 환경 테스트 및 피드백 수집/반영.
* **주요 구현:**
    * **베타 테스터 모집 및 배포:** 토스 콘솔 QR 코드 활용 배포, 온보딩 가이드 및 테스트 시나리오 제공.
    * **피드백 수집:** 정량(Crashlytics 등)/정성(인터뷰, 설문) 데이터 수집 및 버그 리포트 취합.
    * **핫픽스 및 개선:** 수집된 피드백 기반 Critical/Major 버그 수정 및 개선 사항 반영.

---

### Phase 9: 최종 빌드 및 검수 요청 (Week 12)

* **목표:** 최종 `.ait` 번들 생성, 토스 콘솔 '앱 내 기능' 등록 및 검수 요청 제출.
* **주요 내용:**
    * 최종 QA 통과 확인 후 `npm run build` 실행.
    * 콘솔에서 '앱 내 기능'(피처) 1개 이상 등록 (예: `intoss://mungai/search-trainers`).
    * '검토 요청하기' 제출 및 검수 상태 모니터링.
    * (검수 반려 시) 피드백 반영 후 Phase 7-9 반복.

---

⭐ = 핵심 MVP 기능 관련 중요 단계
✨ = 최종 스키마(v3.9)의 신규 테이블/필드 관련 구현 내용